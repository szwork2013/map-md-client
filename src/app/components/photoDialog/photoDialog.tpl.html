<md-dialog aria-label="Photo Dialog"
           layout-fill
           layout="row"
           layout-sm="column">
    <div flex="70"
         layout="column"
         class="photo-dialog-left">
        <md-toolbar>
            <div class="md-toolbar-tools">
                <md-button class="md-icon-button" aria-label="Settings">
                    <md-icon md-svg-icon="google_plus"></md-icon>
                </md-button>
                <h2>
                    <span>{{photo.title}}</span>
                </h2>
                <span flex></span>
                <like-button like-type="photo" like-entity="photo"></like-button>
                <md-button class="md-icon-button" aria-label="Close"
                        ng-click="hide()">
                    <md-icon md-svg-icon="navigation:close"></md-icon>
                </md-button>
            </div>
        </md-toolbar>
        <md-content flex layout-fill layout="row" style="overflow: hidden;">
            <mmd-photo-slider flex layout-fill
                    mmd-photo="photo">

            </mmd-photo-slider>
        </md-content>
    </div>
    <div flex="30"
         layout="column"
         class="photo-dialog-info">
        <md-toolbar md-scroll-shrink
                class="md-tall md-warn md-hue-3">
            <span flex></span>
            <div class="md-toolbar-tools md-toolbar-tools-bottom">
                <user-profile user="user"
                              flex layout-fill>
                </user-profile>
            </div>
        </md-toolbar>

        <md-content class="photo-info-content"
                flex layout-fill >
            <md-list>
                <md-list-item ng-show="photo.travel_id">
                    <md-button class="md-primary"
                               ng-href="#/maps/travel/{{photo.travel_id}}"
                               target="_blank">
                        <md-icon md-svg-icon="image:photo_library"></md-icon>
                        {{photo.travel_name}}
                    </md-button>
                </md-list-item>
                <md-list-item>
                    <pre class="">{{photo.description}}</pre>
                </md-list-item>
                <md-list-item ng-if="photo.location.address" layout="row" layout-align="start center">
                    <md-icon md-svg-icon="social:location_city"></md-icon>
                    <md-button class="">
                        {{photo.location.address}}
                    </md-button>
                </md-list-item>
                <md-list-item layout="row" layout-align="start center" >
                    <md-icon md-svg-icon="maps:place" layout-margin></md-icon>
                    <md-button class="" ng-click="locate($event)">
                        {{photo.location.position[1] | number}}, {{photo.location.position[0] | number}}
                    </md-button>
                </md-list-item>

                <md-divider></md-divider>
                <md-subheader md-no-sticky>相机信息</md-subheader>
                <md-list-item ng-repeat="info in cameraInfos">
                    <md-icon md-svg-icon="{{info.icon}}"></md-icon>
                    <p>{{info.value}}</p>
                    <md-tooltip>
                        {{info.name}}
                    </md-tooltip>
                </md-list-item>
            </md-list>

            <md-divider></md-divider>
            <mmd-comments comments="comments"></mmd-comments>
        </md-content>

        <post-comment
                type="photo"
                entity-id="photo.id"
                on-saved="commentSaved"></post-comment>
    </div>
</md-dialog>