
<map-selector map="amc.map"></map-selector>
<form name="mapUpdateForm" ng-submit="amc.save(amc.map)">
    <md-card>
        <md-card-content>
            <md-input-container>
                <label>名称</label>
                <input ng-model="amc.map.name" required>
            </md-input-container>
            <md-input-container>
                <label>baseLayer</label>
                <input ng-model="amc.map.baseLayer" required>
            </md-input-container>

            <div layout="column">
                <md-input-container ng-repeat="(key,val) in amc.map.overLayers">
                    <md-icon md-svg-icon="navigation:close" class="clickable"
                             ng-click="amc.removeOverLayer(key)"></md-icon>
                    <input type="string" name="{{key}}"
                           ng-model="amc.map.overLayers[key]"
                           placeholder="{{key}}" >
                </md-input-container>

                <div layout="row" layout-align="end end">
                    <md-input-container>
                        <label>名</label>
                        <input type="string" name="propKey"
                               ng-model="amc.overLayer.key">
                    </md-input-container>
                    <md-input-container>
                        <label>值</label>
                        <input type="string" name="newPropValue"
                               ng-model="amc.overLayer.value">
                    </md-input-container>
                    <md-button class="md-primary"
                               ng-click="$event.preventDefault();amc.addOverLayer()">
                        <md-icon md-svg-icon="content:add"></md-icon>
                    </md-button>
                </div>
            </div>
        </md-card-content>
        <div class="md-actions" layout="row" layout-align="end center">
            <md-button class="md-raised md-primary" aria-label="更新"
                       ng-disabled="!mapUpdateForm.$dirty"
                    >创建</md-button>
            <md-button ng-click="amc.cancel()" aria-label="取消">取消</md-button>
            <md-button ng-click="$event.preventDefault();amc.remove(amc.map)" aria-label="删除"
                       ng-show="amc.map.id">
                <md-icon md-svg-icon="navigation:close"></md-icon>
            </md-button>
        </div>
    </md-card>
</form>